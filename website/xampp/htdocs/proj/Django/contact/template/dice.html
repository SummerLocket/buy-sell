
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiceGame</title>
    <script>
        var max=0;
        var count=0;
        function myfun()
        {
            document.getElementById("mytext").value = "Player  , Click on Die";
        }
        const parr = [];
        var n=0;
        function nofp(){
            var x = document.getElementById("plyr").value;
            // if(x == 2){document.getElementById("nofp").innerHTML = "player1 player2"}

            // else if(x == 3){document.getElementById("nofp").innerHTML = "player1 player2 player3"}

            // else if (x == 4){document.getElementById("nofp").innerHTML = "player1 player2 player3 player4"}
            if( x > 1)
            {
               for(var p = 1; p <= x ; p++)
                {
                var btn = document.createElement("BUTTON");
                btn.innerHTML = "Player " + p;
                document.body.appendChild(btn);

            var span = document.createElement("span")
            span.innerHTML = "&nbsp;&nbsp;";
            document.body.appendChild(span);
                }

            var newline = document.createElement("br");
                document.body.appendChild(newline);
        }
        }
        function fun() {
            //    var players = document.getElementById("plyr").value;
            //     var plyrs = parseInt(players);
            //    document.getElementById("text").value = Math.random();
            //    parr[n]=document.getElementById("text").value;
            //     n++;
            if(count == 0){
                var span = document.createElement("span") ;
            span.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
            document.body.appendChild(span);
            }
            count++;
            var btn = document.createElement("BUTTON");
            var random = ( 1 + Math.floor(10*Math.random()) );
            if(random > 6 ){random = random - 6}
            btn.innerHTML = random;

            if(max == btn.innerHTML && max > 3)
            {
                btn.innerHTML--;
            }
            else if(max == btn.innerHTML && max < 3)
            {
                btn.innerHTML++;
            }
            else if(max == btn.innerHTML && max == 3)
            {
                btn.innerHTML = 1;
            }



            if(max < btn.innerHTML){max = btn.innerHTML ; max_count = count;}
            document.body.appendChild(btn);
            var span = document.createElement("span")
            span.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
            document.body.appendChild(span);
            if(count == document.getElementById("plyr").value)
            {
                var btn = document.createElement("BUTTON");
                btn.innerHTML = "Winner is " + max_count;
                document.body.appendChild(btn);
                max = 0;
                count = 0;
                var newline = document.createElement("br");
                document.body.appendChild(newline);
            }
                       }

        function fun2(){
            var max = 0;
            var topper=0;
             for(var i=0;i<n;i++){
              max = Math.max(max,parr[i])
              if(max==parr[i])
                maxi=i;
         }
         maxi++;
        document.getElementById("text2").value="Winner is player" + maxi ;
        }

    </script>
</head>
<body onload="myfun()">
    <script>
        var max = 0;
        var count = 0;
        var max_count = 0;
    </script>
    <h1>Welcome to Dice Game</h1>

    <label for="plyr">Choose no. of players :</label>
     <select name="plyr" id="plyr" onclick="nofp()">
       <option value="1">1</option>
       <option value="2">2</option>
       <option value="3">3</option>
        <option value="4">4</option>
      </select>

       <hr>

       <input type="text" id="mytext" name="myname">
       <hr>
       <button onclick="fun()">DIE</button>
      <hr>
       <!-- <textarea id="nofp" name="w3review" rows="1" cols="50"> players </textarea> -->
      <br>
     <!-- <button onclick="fun2()">for</button>
     <textarea id="text2" name="w3review" rows="4" cols="50">
        At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.
    </textarea> -->
</body>
</html>